<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="author" content="Ahmad Faour" />
  <meta name="description"
    content="ImageCryptoLab — Client-side image conversion, Base64/Hex encoding, and AES/DES/TripleDES encryption. Secure, fast, and privacy-friendly image tools." />
  <meta name="keywords"
    content="image conversion, image encryption, AES, DES, TripleDES, Base64, Hex, image converter, client-side encryption, ImageCryptoLab, image privacy, image compression, web tool" />
  <meta property="og:title" content="ImageCryptoLab — Convert • Base64/Hex • AES/DES Encrypt/Decrypt" />
  <meta property="og:description"
    content="Client-side image conversion and encryption tool. Convert to PNG/JPEG/WebP, encode to Base64/Hex, and encrypt files locally." />
  <meta property="og:image" content="/assets/logo.svg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="ImageCryptoLab" />
  <meta name="twitter:description"
    content="Client-side image conversion and encryption tool — secure and privacy-first." />
  <script type="application/ld+json">
  {"@context": "https://schema.org","@type": "WebApplication","name":"ImageCryptoLab","author":{"@type":"Person","name":"Ahmad Faour"},"url":"https://yourusername.github.io/ImageCryptoLab","description":"Client-side tool for image conversion, encoding and encryption."}
  </script>
  <title>ImageCryptoLab — Convert • Base64/Hex • AES/DES Encrypt/Decrypt</title>
  <link rel="icon" href="/assets/logo.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
  <!-- CryptoJS (AES/DES) Local -->
  <script defer src="./assets/js/crypto-js.min.js"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    /**
     * FIREBASE CONFIGURATION (SECURE INJECTION)
     * ----------------------------------------
     * These placeholders are replaced by GitHub Secrets during the build process.
     * For local development, create a 'firebase-local.js' file (ignored by git).
     */
    window.FIREBASE_CONFIG = {
      apiKey: "AIzaSyDPym0TId4ZsSxRKupJbz1tnJGI3lGt8r8",
      authDomain: "authtrial-a5252.firebaseapp.com",
      projectId: "authtrial-a5252",
      storageBucket: "authtrial-a5252.firebasestorage.app",
      messagingSenderId: "615319164832",
      appId: "1:615319164832:web:c7475bc1f2995d6390f6c5",
      measurementId: "G-XZKY7FN4WB"
    };
  </script>
  <!-- Local Development Config (ignored by git) -->
  <script src="./firebase-local.js"></script>
  <script defer src="./app.js"></script>
</head>

<body>
  <header class="wrap header">
    <div class="brand">
      <div class="logo" aria-hidden="true"><img src="./assets/logo.svg" alt="ImageCryptoLab logo" />
      </div>
      <div>
        <h1>ImageCryptoLab</h1>
        <p class="sub">Professional Image Toolkit • Secure • 100% Privacy</p>
        <p class="meta">By <strong>Ahmad Faour</strong> — © 2026</p>
      </div>
    </div>
    <div class="pill">Client-side Encryption Active</div>
    <div class="auth">
      <div id="miniAccount" style="display:none; align-items:center; gap:12px;">
        <img id="miniAvatar" src="./assets/logo.svg" alt="avatar" style="height:32px; width:32px; border-radius:8px;" />
        <div style="display:flex; flex-direction:column; align-items:flex-start;">
          <small id="miniName"></small>
          <small id="miniQuota"></small>
        </div>
      </div>
      <button class="btn i-gap" id="signInBtn" type="button">
        <i data-lucide="log-in" class="i-sm"></i> Sign in
      </button>
      <button class="btn secondary i-gap" id="signOutBtn" type="button" style="display:none;">
        <i data-lucide="log-out" class="i-sm"></i> Sign out
      </button>
      <button class="btn secondary i-gap" id="accountBtn" type="button" style="display:none;">
        <i data-lucide="user" class="i-sm"></i> Account
      </button>
      <div id="userBadge" class="userBadge" style="display:none;"></div>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <h2><i data-lucide="image" class="i-md"></i> 1) Source Image</h2>
      <div class="grid2">
        <div>
          <div id="dropZone" class="drop-zone">
            <i data-lucide="upload-cloud" class="i-lg"></i>
            <p>Drag & drop image here or <strong>click to browse</strong></p>
            <span class="hint">Supports PNG, JPEG, WebP, GIF, BMP, ICO</span>
            <input id="fileInput" type="file" accept="image/*" style="display: none;" />
          </div>

          <div class="meta" id="fileMeta">No file selected</div>

          <div class="row gap mt">
            <button class="btn secondary i-gap" id="clearBtn" type="button">
              <i data-lucide="trash-2" class="i-sm"></i> Clear
            </button>
            <button class="btn secondary i-gap" id="downloadOriginalBtn" type="button" disabled>
              <i data-lucide="download" class="i-sm"></i> Download Original
            </button>
          </div>

          <div class="notice">
            <strong>Browser-Native Processing:</strong> Converts to PNG/JPEG/WebP using Canvas API. Your image never
            leaves your device.
          </div>
        </div>

        <div class="preview">
          <div class="previewBox" id="dropZoneProxy">
            <img id="previewImg" alt="Preview" />
            <div class="placeholder" id="previewPlaceholder">Preview will appear here</div>
          </div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2><i data-lucide="layers" class="i-md"></i> 2) Processing Tools</h2>

      <div class="tabs" role="tablist" aria-label="Tools tabs">
        <button class="tab active" data-tab="convert" role="tab" aria-selected="true"><i data-lucide="refresh-cw"
            class="i-sm"></i> Convert</button>
        <button class="tab" data-tab="encode" role="tab" aria-selected="false"><i data-lucide="code" class="i-sm"></i>
          Base64 / Hex</button>
        <button class="tab" data-tab="encrypt" role="tab" aria-selected="false"><i data-lucide="lock" class="i-sm"></i>
          Encrypt</button>
        <button class="tab" data-tab="decrypt" role="tab" aria-selected="false"><i data-lucide="unlock"
            class="i-sm"></i> Decrypt</button>
      </div>

      <!-- Convert -->
      <div class="panel show" id="panel-convert" role="tabpanel">
        <h3>Format & Quality</h3>
        <div class="grid3">
          <div>
            <label>Output Format</label>
            <select id="outFormat">
              <option value="image/png">PNG (.png)</option>
              <option value="image/jpeg">JPEG (.jpg)</option>
              <option value="image/webp">WebP (.webp)</option>
              <option value="image/gif">GIF (.gif)</option>
              <option value="image/bmp">BMP (.bmp)</option>
              <option value="image/x-icon">ICO (.ico)</option>
            </select>
          </div>
          <div>
            <label>Quality (JPEG/WebP)</label>
            <input id="outQuality" type="range" min="0" max="1" step="0.01" value="0.92" />
            <div class="meta">Current Quality: <span id="qualityLabel">0.92</span></div>
          </div>
          <div class="alignEnd">
            <button class="btn i-gap" id="convertBtn" type="button" disabled>
              <i data-lucide="download-cloud" class="i-sm"></i> Convert & Download
            </button>
          </div>
        </div>

        <div class="divider"></div>

        <h3>Geometric Resize</h3>
        <div class="grid3">
          <div>
            <label>Width (px)</label>
            <input id="resizeW" type="number" min="1" placeholder="Auto" />
          </div>
          <div>
            <label>Height (px)</label>
            <input id="resizeH" type="number" min="1" placeholder="Auto" />
          </div>
          <div class="alignEnd">
            <button class="btn secondary i-gap" id="applyResizeBtn" type="button" disabled>
              <i data-lucide="maximize" class="i-sm"></i> Apply Resize
            </button>
          </div>
        </div>
        <div class="meta">Leave one field empty to preserve aspect ratio.</div>

        <div class="divider"></div>

        <h3>Auto-Compression Engine</h3>
        <div class="grid3">
          <div>
            <label style="display: flex; align-items: center; gap: 8px; margin: 0; cursor: pointer;">
              <input type="checkbox" id="autoCompress" style="width: auto; margin: 0;" />
              <span>Enable Compression</span>
            </label>
            <div class="meta">Smart reduction using optimal settings</div>
          </div>
          <div>
            <label>Target Size Threshold (KB)</label>
            <input id="maxSize" type="number" min="10" max="10000" value="500" />
          </div>
          <div class="alignEnd">
            <div id="compressionInfo" class="meta"></div>
          </div>
        </div>
      </div>

      <!-- Encode -->
      <div class="panel" id="panel-encode" role="tabpanel">
        <h3>Data Representation</h3>
        <div class="row gap wrapRow">
          <button class="btn i-gap" id="makeBase64Btn" type="button" disabled><i data-lucide="binary" class="i-sm"></i>
            Base64</button>
          <button class="btn i-gap" id="makeHexBtn" type="button" disabled><i data-lucide="hash" class="i-sm"></i>
            Hex</button>
          <button class="btn secondary i-gap" id="copyEncodeBtn" type="button" disabled><i data-lucide="copy"
              class="i-sm"></i> Copy</button>
          <button class="btn secondary i-gap" id="downloadEncodeBtn" type="button" disabled><i data-lucide="file-text"
              class="i-sm"></i> Download .txt</button>
        </div>
        <label class="mt">Encoded Output</label>
        <textarea id="encodeOut" spellcheck="false" placeholder="Resulting data stream will appear here..."></textarea>
        <div class="meta" id="encodeMeta"></div>
      </div>

      <!-- Encrypt -->
      <div class="panel" id="panel-encrypt" role="tabpanel">
        <h3>Cryptographic Configuration</h3>

        <div class="grid3">
          <div>
            <label>Algorithm</label>
            <select id="encAlg">
              <option value="AES">Advanced Encryption Standard (AES)</option>
              <option value="DES">DES</option>
              <option value="TripleDES">Triple DES</option>
            </select>
          </div>

          <div>
            <label>Key Bit-Length</label>
            <select id="encKeySize">
              <option value="128">128-bit</option>
              <option value="192">192-bit</option>
              <option value="256" selected>256-bit (Strongest)</option>
            </select>
          </div>

          <div>
            <label>Operational Mode</label>
            <select id="encMode">
              <option value="CBC" selected>CBC (Recommended)</option>
              <option value="ECB">ECB (Legacy)</option>
              <option value="CFB">CFB</option>
              <option value="OFB">OFB</option>
              <option value="CTR">CTR</option>
            </select>
          </div>
        </div>

        <div class="grid3 mt">
          <div>
            <label>Padding Protocol</label>
            <select id="encPadding">
              <option value="Pkcs7" selected>PKCS7</option>
              <option value="AnsiX923">ANSI X9.23</option>
              <option value="Iso10126">ISO 10126</option>
              <option value="Iso97971">ISO 9797-1</option>
              <option value="NoPadding">No Padding</option>
            </select>
          </div>

          <div>
            <label>IV Length (Bytes)</label>
            <input id="encIVSize" type="number" min="8" max="32" value="16" />
          </div>

          <div>
            <label>Salt Length (Bytes)</label>
            <input id="encSaltSize" type="number" min="0" max="32" value="8" />
          </div>
        </div>

        <div class="grid3 mt">
          <div>
            <label>Master Passphrase</label>
            <input id="encPass" type="password" placeholder="Use a complex key" />
          </div>

          <div>
            <label>PBKDF2 Iterations</label>
            <input id="encIterations" type="number" min="1000" max="1000000" value="10000" />
          </div>

          <div class="alignEnd">
            <button class="btn i-gap" id="encryptBtn" type="button" disabled>
              <i data-lucide="shield-check" class="i-sm"></i> Run Encryption
            </button>
          </div>
        </div>

        <div class="grid3 mt">
          <div>
            <label>Output Format</label>
            <select id="encOutFmt">
              <option value="base64" selected>Base64</option>
              <option value="hex">Hexadecimal</option>
              <option value="base32">Base32</option>
            </select>
          </div>
          <div class="alignEnd">
            <button class="btn secondary i-gap" id="copyEncBtn" type="button" disabled><i data-lucide="clipboard"
                class="i-sm"></i> Copy</button>
          </div>
          <div class="alignEnd">
            <button class="btn secondary i-gap" id="downloadEncBtn" type="button" disabled><i data-lucide="save"
                class="i-sm"></i> Save File</button>
          </div>
        </div>

        <label class="mt">Manifest Info (Keep this safe)</label>
        <textarea id="encInfo" spellcheck="false" readonly
          placeholder="Encryption metadata will be logged here..."></textarea>

        <label class="mt">Encoded Ciphertext</label>
        <textarea id="encOut" spellcheck="false" placeholder="Encrypted payload..."></textarea>

        <div class="notice">
          <strong>Security Note:</strong> Your passphrase is never stored. Ensure you save the <strong>exact</strong>
          parameters used (Mode, Padding, Iterations) or decryption will be mathematically impossible.
        </div>
      </div>

      <!-- Decrypt -->
      <div class="panel" id="panel-decrypt" role="tabpanel">
        <h3>Secure Decryption Gateway</h3>

        <div class="grid3">
          <div>
            <label>Source Algorithm</label>
            <select id="decAlg">
              <option value="AES">AES</option>
              <option value="DES">DES</option>
              <option value="TripleDES">Triple DES</option>
            </select>
          </div>

          <div>
            <label>Matching Key Size</label>
            <select id="decKeySize">
              <option value="128">128-bit</option>
              <option value="192">192-bit</option>
              <option value="256" selected>256-bit</option>
            </select>
          </div>

          <div>
            <label>Matching Mode</label>
            <select id="decMode">
              <option value="CBC" selected>CBC</option>
              <option value="ECB">ECB</option>
              <option value="CFB">CFB</option>
              <option value="OFB">OFB</option>
              <option value="CTR">CTR</option>
            </select>
          </div>
        </div>

        <div class="grid3 mt">
          <div>
            <label>Matching Padding</label>
            <select id="decPadding">
              <option value="Pkcs7" selected>PKCS7</option>
              <option value="AnsiX923">ANSI X9.23</option>
              <option value="Iso10126">ISO 10126</option>
              <option value="Iso97971">ISO 9797-1</option>
              <option value="NoPadding">No Padding</option>
            </select>
          </div>

          <div>
            <label>PBKDF2 Iterations</label>
            <input id="decIterations" type="number" min="1000" max="1000000" value="10000" />
          </div>

          <div>
            <label>Ciphertext Format</label>
            <select id="decInFmt">
              <option value="base64" selected>Base64</option>
              <option value="hex">Hexadecimal</option>
              <option value="base32">Base32</option>
            </select>
          </div>
        </div>

        <div class="grid3 mt">
          <div>
            <label>Passphrase</label>
            <input id="decPass" type="password" placeholder="Required for derivation" />
          </div>

          <div class="alignEnd">
            <button class="btn i-gap" id="decryptBtn" type="button">
              <i data-lucide="unlock" class="i-sm"></i> Run Decryption
            </button>
          </div>
          <div class="meta" id="decryptAttempts">Quota: 5 attempts remaining</div>
        </div>

        <label class="mt">Paste Ciphertext Payload</label>
        <textarea id="decIn" spellcheck="false" placeholder="Paste your encrypted base64/hex string here..."></textarea>

        <label class="mt">Decryption Validation Log</label>
        <textarea id="decInfo" spellcheck="false" readonly placeholder="Status messages will appear here..."></textarea>

        <div class="row gap mt">
          <button class="btn secondary i-gap" id="downloadDecBtn" type="button" disabled>
            <i data-lucide="file-down" class="i-sm"></i> Download Result
          </button>
          <button class="btn secondary i-gap" id="useAsCurrentBtn" type="button" disabled>
            <i data-lucide="file-up" class="i-sm"></i> Load into Workflow
          </button>
        </div>

        <div id="decMeta" style="margin-top: 10px; font-size: 0.85em; color: var(--text-tertiary);"></div>
      </div>

      <div class="divider"></div>

      <h3><i data-lucide="eye" class="i-sm"></i> Processed/Decrypted Output Preview</h3>
      <div class="preview">
        <div class="previewBox">
          <img id="decPreviewImg" alt="Decrypted view" />
          <div class="placeholder" id="decPreviewPlaceholder">Output preview will visualize here</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2><i data-lucide="info" class="i-md"></i> Architecture & Security</h2>
      <div class="grid2">
        <div>
          <p>ImageCryptoLab is a high-performance, client-side toolkit designed for zero-trust environments. By
            leveraging Web Crypto derivatives and Canvas buffering, it ensures that your sensitive image data is never
            transmitted over a network.</p>
          <ul class="steps" style="list-style: none; padding: 0;">
            <li><i data-lucide="check-circle" class="i-sm" style="color: var(--success);"></i>
              <strong>Offline-First:</strong> No server-side analytics or storage.
            </li>
            <li><i data-lucide="check-circle" class="i-sm" style="color: var(--success);"></i> <strong>Standard
                Crypto:</strong> Uses CryptoJS for robust AES-256 implementation.</li>
            <li><i data-lucide="check-circle" class="i-sm" style="color: var(--success);"></i> <strong>Modern
                Formats:</strong> Optimized for WebP and high-quality JPEG compression.</li>
          </ul>
        </div>
        <div class="pill" style="height: fit-content; text-align: left; padding: 16px; border-radius: 12px;">
          <strong>Developer:</strong> Ahmad Faour<br />
          <strong>Version:</strong> v2.2.0 (Stable)<br />
          <strong>License:</strong> MIT Open Source<br />
          <strong>Engine:</strong> Vanilla JS / CryptoJS
        </div>
      </div>
    </section>

    <footer class="footer">
      <div>
        Built with <i data-lucide="heart" class="i-sm" style="color: var(--danger); fill: var(--danger);"></i> by <a
          href="https://github.com/AhmadFaour9">Ahmad Faour</a>
      </div>
      <div class="row gap">
        <a href="https://github.com/AhmadFaour9/ImageCryptoLab">GitHub Repo</a>
        <span>•</span>
        <a href="#">Privacy Policy</a>
        <span>•</span>
        <a href="#">Security Audit</a>
      </div>
    </footer>

    <!-- Auth modal -->
    <div class="modal" id="authModal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="panel">
        <h4><i data-lucide="key" class="i-md" style="color: var(--primary);"></i> Access Management</h4>
        <p>Your free decryption quota has been reached. Authenticate to refresh attempts or upgrade to unlimited
          processing.</p>

        <div style="display:flex; gap:12px; margin-bottom:16px;">
          <button class="btn i-gap" id="authModalSignIn" type="button">
            <i data-lucide="chrome" class="i-sm"></i> Sign in with Google
          </button>
          <button class="btn secondary i-gap" id="showEmailFormBtn" type="button">
            <i data-lucide="mail" class="i-sm"></i> Use Email
          </button>
          <button class="btn secondary" id="authModalClose" type="button">Close</button>
        </div>

        <div id="emailAuthForm" style="display:none; border-top: 1px solid var(--border); padding-top: 16px;">
          <label>Recovery Email</label>
          <input id="authEmail" type="email" placeholder="email@address.com" />
          <label class="mt">Secure Password</label>
          <input id="authPassword" type="password" placeholder="••••••••" />
          <div style="display:flex; gap:8px; margin-top:20px;">
            <button class="btn" id="authEmailSignUp" type="button">Register</button>
            <button class="btn" id="authEmailSignIn" type="button">Authorize</button>
            <button class="btn secondary" id="authResendVerification" type="button" style="display:none;">Resend
              OTP</button>
          </div>
          <div id="authMessage" class="meta" style="margin-top:12px;"></div>
        </div>
      </div>
    </div>

    <!-- Account modal -->
    <div class="modal" id="accountModal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="panel">
        <h4><i data-lucide="user-circle" class="i-md" style="color: var(--primary);"></i> Identity & Workspace</h4>
        <pre id="accountInfo">Syncing workspace...</pre>
        <div style="margin-top:20px; display:flex; flex-wrap: wrap; gap:12px; align-items:center;">
          <button class="btn i-gap" id="purchaseBtn" type="button" disabled>
            <i data-lucide="zap" class="i-sm"></i> Unlock Unlimited
          </button>
          <button class="btn secondary i-gap" id="requestUnlimitedBtn" type="button">
            <i data-lucide="send" class="i-sm"></i> Request Access
          </button>
          <button class="btn secondary" id="accountModalClose" type="button">Close</button>
        </div>
        <hr style="margin:20px 0; border: 0; border-top: 1px solid var(--border);" />
        <div id="adminPreview" style="display:none;">
          <h4><i data-lucide="shield" class="i-sm"></i> Control Plane (Admin)</h4>
          <div id="adminList">Scanning requests...</div>
        </div>
      </div>
    </div>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();
    </script>
  </main>
</body>

</html>